# Лифтний Хяналтын Систем – Төгсгөлөг Төлөвийн Машины (FSM) тодорхойлолт

## 1. Төлөвүүд

Лифт дараах төлөвүүдтэй байна:

- **IDLE (Сул)** – Лифт хөдөлгөөнгүй, хаалга хаалттай.
- **MOVING_UP (Дээшээ явж буй)** – Лифт дээш чиглэлд хөдөлж байна.
- **MOVING_DOWN (Доошоо явж буй)** – Лифт доош чиглэлд хөдөлж байна.
- **DOOR_OPEN (Хаалга нээлттэй)** – Лифт давхарт ирээд хаалгаа онгойлгосон төлөв.
- **DOOR_CLOSING (Хаалга хаагдаж буй)** – Лифт хаалгаа хааж хөдөлгөөнд бэлдэж буй төлөв.

---

## 2. Үзэгдлүүд (Events)

Дараах үзэгдлүүд төлөв шилжилт үүсгэнэ:

- `CALL_UP(floor)` – Давхараас дээшээ дуудах.
- `CALL_DOWN(floor)` – Давхараас доошоо дуудах.
- `INSIDE_SELECT(floor)` – Лифт дотороос зорих давхрыг сонгох.
- `REACHED(floor)` – Лифт зорьсон давхарт хүрсэн.
- `DOOR_TIMEOUT` – Хаалга тодорхой хугацааны дараа автоматаар хаагдах.
- `CLOSE_DOOR` – Хаалгыг бүрэн хаах команд.

---

## 3. Төлөв Шилжилтүүд

| Одоогийн төлөв | Үзэгдэл                          | Дараагийн төлөв |
| -------------- | -------------------------------- | --------------- |
| IDLE           | CALL_UP / INSIDE_SELECT → дээш   | MOVING_UP       |
| IDLE           | CALL_DOWN / INSIDE_SELECT → доош | MOVING_DOWN     |
| MOVING_UP      | REACHED                          | DOOR_OPEN       |
| MOVING_DOWN    | REACHED                          | DOOR_OPEN       |
| DOOR_OPEN      | DOOR_TIMEOUT                     | DOOR_CLOSING    |
| DOOR_CLOSING   | CLOSE_DOOR                       | IDLE            |

---

## 4. Шаардлагатай Шинжүүд (Correctness Properties)

### Аюулгүй ажиллагааны нөхцөл (Safety)

- Хаалга нээлттэй үед лифт хөдлөх **ёсгүй**.
- Лифт зөвхөн давхарт ирсэн үед хаалгаа онгойлгох ёстой.
- Лифт давхар хооронд хаалга онгойлгож болохгүй.
- Лифт хаалгаа бүрэн хаагаагүй байхад хөдөлж болохгүй.

### Амьдралт нөхцөл (Liveness)

- Дуулдсан бүх хүсэлтүүд эцэстээ биелэгдэх ёстой.
- Хаалга нээгдсэн бол эцэстээ хаагдах ёстой.
- Лифт хөдөлсөн бол заавал зорилтот давхарт ирж хаалгаа нээх ёстой.
